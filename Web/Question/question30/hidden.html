<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스테가노그래피/패킷분석 Challenge</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>스테가노그래피/패킷분석 Challenge</h1>
    <div class="container">
        <input type="text" id="userInput" placeholder=" 플래그 입력">
        <div class="button-group">
            <button id="submit1" onclick="checkFlag(1)">1제출</button>
            <button id="submit2" onclick="checkFlag(2)" style="display: none;">2제출</button>
            <button id="submit3" onclick="checkFlag(3)" style="display: none;">3제출</button>
        </div>
        <p id="result"></p>

        <div class="ssh-info">
            <button id="imageButton" onclick="downloadImage()">이미지 다운로드</button>
            <button id="pcapButton" onclick="pcap()" style="display: none;">pcap 다운로드</button>
            <div id="question" class="question-text" style="display: none;">
                <p>범인이 누구 였습니까?</p>
            </div>
        </div>

        <div class="story" id="story1">
            <p>페페는 크리스마스의 숨겨진 이야기를 밝히기 위해 박물관에 가야 한다. 하지만 현재 페페는 길을 잃고, 박물관을 찾지 못하고 있다. 페페가 가진 단서는 오래된 한 장의 사진뿐이다. 이 사진에는 어떤 힌트가 숨겨져 있어, 박물관의 위치를 밝혀낼 수 있다고 한다.</p>
            <p>그러나 사진 속에 담긴 정보는 쉽게 읽을 수 있는 것이 아니다. 페페는 사진을 분석하고, 거기에 담긴 암호와 단서를 풀어나가야 한다. 사진에는 희미한 흔적과 장소의 일부가 보이지만, 정확한 위치를 알아내기 위해 페페는 관찰력과 지혜를 발휘해야 한다.</p>
            <p>첫 번째 문제는 사진 속 단서를 이용해 박물관의 위치를 찾아가는 것이다.</p>
            <button onclick="toggleHint('hint1')" class="hint-button">힌트 보기</button>
            <div id="hint1" class="hint" style="display: none;">
                <p>힌트: 이미지에 숨겨진 메시지를 찾아보세요. (스테가노그래피 도구를 사용해보세요)</p>
            </div>
        </div>

        <div class="story" id="story2" style="display: none;">
            <p>크리스마스의 숨겨진 이야기</p>
            <p>Grandma는 Mel에게 크리스마스 때 놀러간다고 말한 뒤 크리스마스 당일 날 어디론가 사라졌다. Mel이 사는 집 근처 센트럴 파크에서는 순록의 발자국이 찍힌 grandma의 외투가 발견되었다. Mel은 당장 루돌프를 범인으로 지목하여 루돌프를 납치 및 살해범으로 경찰에 고소했다. 경찰은 루돌프의 소지품을 압수하고 해당 증거물을 분석한 결과 루돌프가 사건 당시 센트럴 파크에 있었다는 것이 확실하다고 주장하는데, 검자기 어떤 정년이 USB를 들고 와 할머니의 것이라며 증거제출을 신청했다. 이에 재판부는 증거제출을 받아들였고 정년은 해당 증거에 대해 할머니가 평상시에 사용하던 컴퓨터에 꽂혀있던 USB라고 설명하였다. USB가 꽂혀 있을 당시에는 파란색화면이 띄어져 있었고, USB에는 패킷캡쳐파일이 저장되어 있다고 설명하였다. 재판부는 패킷 캡처 파일의 분석을 우리에게 의뢰하여 사건의 진상을 밝힐만한 요소가 있는지 부탁을 하는데...</p>
            <button onclick="toggleHint('hint2')" class="hint-button">힌트 보기</button>
            <div id="hint2" class="hint" style="display: none;">
                <p>힌트: pcap 파일 내의 TCP 스트림을 분석해보세요. (Wireshark 사용)</p>
                <p>힌트: https://www.encryptomatic.com/viewer/</p>
                <p>힌트: 추출된 파일에서 굵은 글씨를 찾아보세요.</p>
            </div>
        </div>

        <div class="story" id="story3" style="display: none;">
            <p>댓글</p>
            <div class="comment-section">
                <textarea id="commentInput" placeholder="범인의 이름을 입력하세요..." rows="4"></textarea>
                <button onclick="submitComment()" class="comment-button">답변 제출</button>
            </div>
            <div id="flag-result" style="display: none;">
                <p id="flag-text"></p>
            </div>
        </div>
    </div>
    <script src="question30.js"></script>
</body>
</html>